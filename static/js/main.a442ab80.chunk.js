(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(e,t,a){e.exports=a(306)},298:function(e,t,a){},303:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),i=a(43),o=a.n(i),l=a(18),r=Object(n.createContext)();function s(e){var t=e.rootReducer(e.initialValue,{type:"INIT"}),a=Object(n.useReducer)(e.rootReducer,t),i=Object(l.a)(a,2),o=i[0],s=i[1];return c.a.createElement(r.Provider,{value:[o,s]},e.children(o.view))}var m=a(68),u=a(156),f=a(19),d=a(96),p={view:"",items:[],coffeeData:{},itemsLoaded:!1,editing:!1,deleting:!1},g=function(e,t){var a,n;switch(t.type){case"INIT":var c=localStorage.getItem("coffeeData");return null==c&&localStorage.setItem("coffeeData",JSON.stringify(d.a)),Object(f.a)({},e,{view:"billboard",items:JSON.parse(localStorage.getItem("items"))||p.items,coffeeData:c?JSON.parse(c):d.a,itemsLoaded:!0});case"EDIT_ON":return Object(f.a)({},e,{view:"billboard",editing:!0,deleting:!1});case"EDIT_OFF":return Object(f.a)({},e,{editing:!1});case"DELETE_ON":return Object(f.a)({},e,{view:"billboard",editing:!1,deleting:!0});case"DELETE_OFF":return Object(f.a)({},e,{deleting:!1});case"ADD_TILE":return a=[].concat(Object(u.a)(e.items),[t.payload.item]),localStorage.setItem("items",JSON.stringify(a)),Object(f.a)({},e,{items:a});case"REMOVE_TILE":return a=e.items.filter(function(e){return e.id!==t.payload.id}),localStorage.setItem("items",JSON.stringify(a)),Object(f.a)({},e,{items:a});case"OPEN_VIEW":return Object(f.a)({},e,{view:t.payload.view,editing:!1,deleting:!1});case"ADD_NEW_COFFEE":return n=Object(f.a)({},e.coffeeData,Object(m.a)({},t.payload.key,t.payload.item)),localStorage.setItem("coffeeData",JSON.stringify(n)),Object(f.a)({},e,{coffeeData:n});case"REMOVE_COFFEE":return n=Object(f.a)({},e.coffeeData),a=e.items.filter(function(e){return e.key!==t.payload.key}),localStorage.setItem("items",JSON.stringify(a)),delete n[t.payload.key],localStorage.setItem("coffeeData",JSON.stringify(n)),Object(f.a)({},e,{items:a,coffeeData:n});default:return e}},E=a(316),w=function(){var e=Object(n.useContext)(r),t=Object(l.a)(e,2),a=t[0],i=t[1],o=a.coffeeData,s=a.items.length===Object.keys(o).length||"billboard"!==a.view,m=!a.items||0===a.items.length||"billboard"!==a.view;return c.a.createElement(E.a,{id:"command-bar",fixed:"top",position:"right"},c.a.createElement("img",{src:"https://img.icons8.com/ios/50/000000/cafe.png",alt:"Coffee icon"}),c.a.createElement(E.a.Item,{header:!0},"Welcome, grab a coffee!"),c.a.createElement(E.a.Item,{key:"editList",name:"Edit available coffees",icon:"listEditor"===a.view?"close":"pencil",active:"listEditor"===a.view,onClick:function(){return i({type:"OPEN_VIEW",payload:{view:"listEditor"===a.view?"billboard":"listEditor"}})}}),c.a.createElement(E.a.Menu,{position:"right"},c.a.createElement(E.a.Item,{key:"new",name:"Add Coffee",icon:a.editing?"close":"plus square outline",active:a.editing,disabled:s,onClick:function(){return i({type:a.editing?"EDIT_OFF":"EDIT_ON"})}}),c.a.createElement(E.a.Item,{key:"delete",name:a.deleting&&!m?"Done removing":"Remove coffees",icon:a.deleting?"close":"trash alternate outline",active:a.deleted,disabled:m,onClick:function(){return i({type:a.deleting?"DELETE_OFF":"DELETE_ON"})}})))},b=a(317),v=a(35),h=function(e){var t=e.coffeeData,a=e.coffeeType,n=e.price,i=e.deleting,o=e.onDelete,l=t[a];return l?c.a.createElement(b.a,null,c.a.createElement("div",{className:"tile"},c.a.createElement("img",{src:l.imgSrc,alt:l.title}),i&&c.a.createElement("div",{className:"icon-container"},c.a.createElement(v.a,{className:"icon-wrapper trash alternate",onClick:o})),c.a.createElement("div",{className:"coffee-info"},c.a.createElement("span",{className:"tile-title"},l.title),c.a.createElement("span",null,n+" \u20ac")))):null},O=a(315),y=a(75),j=a.n(y),N=function(e){var t=e.coffeeData,a=e.existingCoffees,i=e.onSave,o=e.onCancel,r=Object(n.useState)(null),s=Object(l.a)(r,2),m=s[0],u=s[1],f=Object(n.useState)(0),d=Object(l.a)(f,2),p=d[0],g=d[1],E=Object(n.useRef)(null);Object(n.useEffect)(function(){E.current.scrollIntoView({behavior:"smooth"})});var w=Object.keys(t).filter(function(e){return!a.some(function(t){return e===t.key})}).map(function(e){return{text:t[e].title,value:e}}),h=m&&!isNaN(p)&&0!==p;return c.a.createElement(b.a,null,c.a.createElement("div",{ref:E,className:"tile"},c.a.createElement("div",{className:"editing-actions",style:t[m]?{backgroundImage:"url(".concat(t[m].imgSrc,")"),opacity:.2}:{backgroundImage:"none"}}),c.a.createElement("div",{className:"icon-container"},h&&c.a.createElement(v.a,{className:"icon-wrapper save outline",onClick:function(){if(h){var e={id:j()(),key:m,price:p.toFixed(2)};u(null),g(0),i(e)}}}),c.a.createElement(v.a,{className:"icon-wrapper cancel",onClick:o})),c.a.createElement("div",{className:"coffee-info"},c.a.createElement(O.a,{placeholder:"Choose coffee",value:m,options:w,onChange:function(e,t){return u(t.value)}}),c.a.createElement("input",{type:"number",className:"price-input",placeholder:"Price",value:0===p?"":p.toString(),min:"0",step:"0.1",onChange:function(e){return g(e.target.valueAsNumber)}}),"\u20ac")))},S=(a(298),function(){var e=Object(n.useContext)(r),t=Object(l.a)(e,2),a=t[0],i=t[1],o=a.coffeeData,s=a.items.length===Object.keys(o).length;return c.a.createElement("div",{id:"billboard"},a.items.map(function(e){return c.a.createElement(h,{key:e.id,coffeeData:o,coffeeType:e.key,price:e.price,deleting:a.deleting,onDelete:function(){return i({type:"REMOVE_TILE",payload:{id:e.id}})}})}),a.editing&&!s&&c.a.createElement(N,{coffeeData:o,existingCoffees:a.items,onSave:function(e){return i({type:"ADD_TILE",payload:{item:e}})},onCancel:function(){return i({type:"EDIT_OFF"})}}))}),D=a(314),k=a(51),C=a(307),I=function(e){var t=e.coffeeTitle,a=e.imgSrc,n=e.onDelete;return c.a.createElement(b.a,null,c.a.createElement("div",{className:"editor-row"},c.a.createElement("img",{src:a,alt:t}),c.a.createElement("div",{className:"coffee-data"},c.a.createElement(b.a.Group,{horizontal:!0},c.a.createElement(b.a,{className:"title-segment"},c.a.createElement(k.a,{attached:"top"},"Title"),c.a.createElement("div",{className:"break-word"},t)),c.a.createElement(b.a,{className:"url-segment"},c.a.createElement(k.a,{attached:"top"},"Url"),c.a.createElement("div",{className:"break-word"},a)))),c.a.createElement(C.a,{className:"coffee-delete-button",icon:"trash alternate outline",onClick:n})))},_=a(313),T=function(e){var t=e.onSave,a=Object(n.useState)(""),i=Object(l.a)(a,2),o=i[0],r=i[1],s=Object(n.useState)(""),m=Object(l.a)(s,2),u=m[0],f=m[1],d=Object(n.useState)(!0),p=Object(l.a)(d,2),g=p[0],E=p[1],w="https://www.bormel-grice.com/sites/all/themes/riley_sub/img/nopicture.png",v=""===o||""===u||g;return c.a.createElement(b.a,null,c.a.createElement("div",{className:"editor-row"},c.a.createElement("img",{src:u,alt:"New coffee",onError:function(e){e.target.src=w,E(!0)},onLoad:function(e){e.target.src!==w?E(!1):E(!0)}}),c.a.createElement("div",{className:"coffee-data"},c.a.createElement(b.a.Group,{horizontal:!0},c.a.createElement(b.a,{className:"title-segment"},c.a.createElement(k.a,{attached:"top"},"Title"),c.a.createElement(_.a,{value:o,label:{icon:"asterisk"},labelPosition:"left corner",placeholder:"Max 50 symbols",maxLength:"50",onChange:function(e){return r(e.target.value)}})),c.a.createElement(b.a,{className:"url-segment"},c.a.createElement(k.a,{attached:"top"},"Url"),c.a.createElement(_.a,{value:u,label:{icon:"asterisk"},labelPosition:"left corner",onChange:function(e){return f(e.target.value)}})))),c.a.createElement(C.a,{className:"coffee-save-button",icon:"plus",disabled:v,onClick:function(){v||(t({key:j()(),item:{title:o,imgSrc:u}}),r(""),f(""))}})))},F=(a(303),function(){var e=Object(n.useContext)(r),t=Object(l.a)(e,2),a=t[0],i=t[1];return c.a.createElement(D.a,{id:"list-editor"},c.a.createElement(T,{onSave:function(e){var t=e.key,a=e.item;return i({type:"ADD_NEW_COFFEE",payload:{key:t,item:a}})}}),Object.keys(a.coffeeData).reverse().map(function(e){return c.a.createElement(I,{key:e,coffeeTitle:a.coffeeData[e].title,imgSrc:a.coffeeData[e].imgSrc,onDelete:function(){return i({type:"REMOVE_COFFEE",payload:{key:e}})}})}))});a(304),a(305);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(function(){return c.a.createElement(s,{rootReducer:g,initialValue:p},function(e){return c.a.createElement("div",{id:"main"},c.a.createElement(w,null),function(e){switch(e){case"billboard":return c.a.createElement(S,null);case"listEditor":return c.a.createElement(F,null);default:return c.a.createElement(S,null)}}(e))})},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},96:function(e){e.exports={a:{affogato:{title:"Affogato",imgSrc:"https://www.latteartguide.com/wp-content/uploads/2016/01/affogato.jpg"},cafeLatte:{title:"Cafe Latte",imgSrc:"https://www.latteartguide.com/wp-content/uploads/2016/01/cafe-latte.jpg"},cappuccino:{title:"Cappuccino",imgSrc:"https://www.latteartguide.com/wp-content/uploads/2016/01/Cappuccino.jpg"},doubleEspresso:{title:"Double Espresso",imgSrc:"https://www.latteartguide.com/wp-content/uploads/2016/01/double-espresso.jpg"},espresso:{title:"Espresso",imgSrc:"https://www.latteartguide.com/wp-content/uploads/2016/01/432856237_da68d53578_z.jpg"},flatWhite:{title:"Flat White",imgSrc:"https://www.latteartguide.com/wp-content/uploads/2016/01/flat-white.jpg"},longBlack:{title:"Long Black",imgSrc:"https://www.latteartguide.com/wp-content/uploads/2016/01/long-black.jpg"},longMacchiato:{title:"Long Macchiato",imgSrc:"https://www.latteartguide.com/wp-content/uploads/2016/01/long-macchiato.jpg"},mochaCoffee:{title:"Mocha Coffee",imgSrc:"https://www.latteartguide.com/wp-content/uploads/2016/01/mocha-coffee.jpg"},piccoloLatte:{title:"Piccolo Latte",imgSrc:"https://www.latteartguide.com/wp-content/uploads/2016/01/piccolo-latte.jpg"},ristretto:{title:"Ristretto",imgSrc:"https://www.latteartguide.com/wp-content/uploads/2016/01/ristretto.jpg"},shortMacchiato:{title:"Short Macchiato",imgSrc:"https://www.latteartguide.com/wp-content/uploads/2016/01/short-macchiato.jpg"}}}}},[[165,1,2]]]);
//# sourceMappingURL=main.a442ab80.chunk.js.map